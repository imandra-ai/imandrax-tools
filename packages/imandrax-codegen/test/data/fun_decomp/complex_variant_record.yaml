name: complex_variant_record
iml: |
  type status = Active | Inactive

  type user = {
    id: int;
    active: status;
  }

  let process_user = fun u ->
    match u.active with
    | Active -> if u.id > 0 then u.id else 0
    | Inactive -> -1
decomp_kwargs:
  name: process_user
  prune: true
regions:
- model_str:
    u: '{id = 0; active = Inactive}'
  model_eval_str: (-1)
  invariant_str: (-1)
  constraints_str:
  - not (u.active = Active)
- model_str:
    u: '{id = 0; active = Active}'
  model_eval_str: '0'
  invariant_str: '0'
  constraints_str:
  - u.active = Active
  - u.id <= 0
- model_str:
    u: '{id = 1; active = Active}'
  model_eval_str: '1'
  invariant_str: u.id
  constraints_str:
  - u.active = Active
  - u.id >= 1
decomp_res:
  artifact:
    kind: mir.fun_decomp
    data: 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
    api_version: v17
    storage: []
  task:
    id:
      id: task:decomp:e7GL8Is8hg9wsvwyZSv6LRkdEdVJMGi3e8l-nq1S8O0=
    kind: TASK_DECOMP
  errors: []
