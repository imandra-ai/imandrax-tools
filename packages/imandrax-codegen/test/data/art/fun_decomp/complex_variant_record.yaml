name: complex_variant_record
iml: |
  type status = Active | Inactive

  type user = {
    id: int;
    active: status;
  }

  let process_user = fun u ->
    match u.active with
    | Active -> if u.id > 0 then u.id else 0
    | Inactive -> -1
decomp_kwargs:
  name: process_user
  prune: true
regions:
- model_str:
    u: '{id = 0; active = Inactive}'
  model_eval_str: (-1)
  invariant_str: (-1)
  constraints_str:
  - not (u.active = Active)
- model_str:
    u: '{id = 0; active = Active}'
  model_eval_str: '0'
  invariant_str: '0'
  constraints_str:
  - u.active = Active
  - u.id <= 0
- model_str:
    u: '{id = 1; active = Active}'
  model_eval_str: '1'
  invariant_str: u.id
  constraints_str:
  - u.active = Active
  - u.id >= 1
decomp_res:
  artifact:
    kind: mir.fun_decomp
    data: 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
    api_version: v18
    storage: []
  task:
    id:
      id: task:decomp:21py-th1vEuTMMLgzXzsQyJCAznBvyDA1iJYlqVjDXU=
    kind: TASK_DECOMP
  errors: []
